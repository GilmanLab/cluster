parameters:
  kapitan:
    compile:
      - output_path: cluster
        input_type: jsonnet
        output_type: yaml
        input_paths:
          - components/cluster/main.jsonnet
      - output_path: cluster
        input_type: jinja2
        input_paths:
          - templates/scripts/cluster/up.sh
      - output_path: cluster
        input_type: jinja2
        input_paths:
          - templates/scripts/cluster/destroy.sh
    dependencies:
      - type: git
        output_path: lib/deploy
        source: https://github.com/GilmanLab/deploy
      - type: git
        output_path: lib/kubespray
        source: https://github.com/kubernetes-sigs/kubespray
        ref: v2.12.7
